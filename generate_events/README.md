# Generation via MadGraph and Pythia using LCG

This process is currently under parallel development in the [secondary branch of the LLP_Sleptons_RPV_SUSY repo](https://github.com/A-A-Abdelhamid/LLP_Sleptons_RPV_SUSY/blob/secondary/) and is still in its alpha testing stage.

## Instantiation

1. Connect to LXPlus.

2. Run the setup script.

`bash repo_setup.sh`

## Customization

This repo is set up to process basic generation parameters in the header of the [generate.sh](https://github.com/j-s-ashley/LCG-GenerationDuctTape/blob/main/generate.sh) file. There, you will find variables for:

- the number of events per run
- a BSM model repository and the path to the model itself
- mass and lifetime range parameters
- naming patterns for generated directories

There are two secondary customization files: 

- [param_card_default.dat](https://github.com/j-s-ashley/LCG-GenerationDuctTape/blob/main/param_card_default.dat)
- [main42.cmnd](https://github.com/j-s-ashley/LCG-GenerationDuctTape/blob/main/main42.cmnd)

### param_card_default.dat

This is the MadGraph input template file, in which you can customize the basic components of your your process.

Parameters that can **remain static** through the entirety of your process can be altered here. The proc_card generated by [generate.sh](https://github.com/j-s-ashley/LCG-GenerationDuctTape/blob/main/generate.sh) replaces MadGraph's default card with this one, then sets individual parameters as described in [make_proc_card.sh](https://github.com/j-s-ashley/LCG-GenerationDuctTape/blob/main/make_proc_card.sh).

### main42.cmnd

This is the Pythia command file, used for customizing how Pythia hadronizes the data from MadGraph.

**Important note**: 
If you want to use a particular PDF set, this should be specified in line 30 by changing the value of `PDF:pSet`. Please also note that this installation of Pythia is not compatible with LHAPDF5. Only LHAPDF6 is enabled.

## Batch Generation

Coming soon!
